!function(t){"use strict";t(".wopb-select2").selectWoo(),t(document).on("click",".block-editor-page .wc-tabs li",(function(e){e.preventDefault(),t(".wc-tabs li").removeClass("active"),t(this).addClass("active");const o=t(this).attr("aria-controls");t(".woocommerce-Tabs-panel").hide(),t(".woocommerce-Tabs-panel#"+o).show()})),t.isFunction(t.fn.wpColorPicker)&&t(".wopb-color-picker").wpColorPicker(),t("body").hasClass("block-editor-page")&&t("body").addClass("wopb-editor-"+wopb_option.width);const e=t(".wopb-saved-templates-action");function o(t,e=!1){const o=e?t.closest(".variable_pricing"):t.closest(".show_if_simple");t.is(":checked")?o.find(".wopb-name-price-wrap").show():o.find(".wopb-name-price-wrap").hide()}e.length>0&&t(".page-title-action").addClass("wopb-save-templates-pro").text(e.data("text")).attr("target","_blank").attr("href",e.data("link")),t(document).ready((function(){t(".block-editor-page").length>0&&"wopb_templates"==wopb_option.post_type&&setTimeout((function(){t(".edit-post-fullscreen-mode-close").length>0&&(t(".edit-post-fullscreen-mode-close")[0].href=wopb_option.saved_template_url)}),100)})),t("#flipimage-feature-image").on("click","#upload_feature_image_button",(function(e){e.preventDefault();const o=t(this).attr("id"),i=o.replace("_button","");let n=wp.media({title:t(this).data("uploader_title"),button:{text:t(this).data("uploader_button_text")},multiple:!1}).open().on("select",(function(e){const s=n.state().get("selection").first().toJSON();t("#"+i).val(s.id),t("#flipimage-feature-image .wopb-flip-image img").attr("src",s.url).show(),t("#flipimage-feature-image .wopb-flip-image img").show(),t("#"+o).attr("id","remove_feature_image_button"),t("#remove_feature_image_button").text("Remove Flip Image")}))})),t("#flipimage-feature-image").on("click","#remove_feature_image_button",(function(e){e.preventDefault(),t("#upload_feature_image").val(""),t("#flipimage-feature-image .wopb-flip-image img").attr("src",""),t("#flipimage-feature-image .wopb-flip-image img").hide(),t(this).attr("id","upload_feature_image_button"),t("#upload_feature_image_button").text("Set Flip Image")})),t("#wopb-term-upload-img-btn").on("click",(function(e){e.preventDefault();let o=t(this),i=wp.media({title:"Attribute Term Image",multiple:!1}).open().on("select",(function(t){let e=i.state().get("selection").first().toJSON();o.parent().prev("#wopb-term-img-thumbnail").find("img").attr("src",e.sizes.thumbnail.url),o.parent().find("#wopb-term-img-remove-btn").removeClass("wopb-d-none"),o.parent().find("#wopb-term-img-input").val(e.id)}))})),t("#wopb-term-img-remove-btn").click((function(e){t(this).parent().prev("#wopb-term-img-thumbnail").find("img").attr("src",wopb_option.url+"assets/img/wopb-fallback-img.png"),t(this).parent().find("#wopb-term-img-input").val("")})),t(document).on("click","#wopb-dashboard-wopb-settings-tab li a, #toplevel_page_wopb-settings ul li a",(function(e){let o=t(this).attr("href");o&&(o=o.split("#"),void 0!==o[1]&&o[1].indexOf("demoid")<0&&o[1]&&(t("#toplevel_page_wopb-settings ul li a").closest("ul").find("li").removeClass("current"),t(this).closest("li").addClass("current"),t("#toplevel_page_wopb-settings ul li a[href$="+o[1]+"]").closest("li").addClass("current"),"home"==o[1]&&t("#toplevel_page_wopb-settings ul li.wp-first-item").addClass("current")))})),t("#toplevel_page_wopb-settings ul > li").removeClass("current"),t("#toplevel_page_wopb-settings ul > li > a").each((function(e){const o=t(this).attr("href");o&&o.indexOf("?page=wopb-settings")>0?0!=t(this).hasClass("wp-first-item")?t(this).attr("href",o+"#home"):wopb_option.settings&&(o.indexOf("#builder")>0&&"true"!=wopb_option.settings?.wopb_builder||o.indexOf("#custom-font")>0&&"true"!=wopb_option.settings?.wopb_custom_font||o.indexOf("#size-chart")>0&&"true"!=wopb_option.settings?.wopb_size_chart||o.indexOf("#saved-templates")>0&&"true"!=wopb_option.settings?.wopb_templates)&&t(this).hide():o.indexOf("?page=go_productx_pro")>0&&t(this).attr("target","_blank");let i=o.indexOf("#")>0?o.split("#")[1]:"home";window.location.hash=="#"+i&&t(this).parent("li").addClass("current");let n="productx-submenu-"+i;t(this).attr("id",n),t("#"+n)})),t(".wopb-font-variation-action").on("click",(function(e){const o=t(".wopb-custom-font-copy")[0].outerHTML;t(this).before(o.replace("wopb-custom-font-copy","wopb-custom-font wopb-font-open"))})),t(document).on("click",".wopb-custom-font-close",(function(e){t(this).closest(".wopb-custom-font-container").removeClass("wopb-font-open")})),t(document).on("click",".wopb-custom-font-edit",(function(e){t(this).closest(".wopb-custom-font-container").addClass("wopb-font-open")})),t(document).on("click",".wopb-custom-font-delete",(function(e){t(this).closest(".wopb-custom-font").remove()})),t(document).on("click",".wopb-font-upload",(function(e){const o=t(this);t(this).addClass("rty");const i=wp.media({title:"Add Font",button:{text:"Add New Font"},library:{type:o.attr("type")},multiple:!1});i.on("select",(function(){const t=i.state().get("selection").first().toJSON(),e=o.attr("extension");if(t.url.split(".").pop().toLowerCase()!==e){if(!confirm(`Invalid file type. Please upload ${e.toUpperCase()} file`))return;i.open()}else o.closest(".wopb-font-file-list").find("input").val(t.url)})),i.open()})),t(document).on("change",".wopb-font-file-list input",(function(e){const o=t(this);if(o.val()){const t=o.parents(".wopb-font-file-list:first").find(".wopb-font-upload").attr("extension");o.val().trim().toLowerCase().endsWith("."+t)||alert(`Please enter a valid URL ending with .${t} extension`)}})),t(".wopb-name-price-enable").each((function(){o(t(this))})),t(document).on("click",".woocommerce_variation",(function(){t(".wopb-name-price-enable").length>0&&o(t(this).find(".wopb-name-price-enable"),!0)})),t(document).on("change",".wopb-name-price-enable",(function(){o(t(this))})),t(".wopb-open-media").on("click",(function(){let e=t(this),o=e.parent().find(e.attr("data-target")),i=e.parent().find(e.attr("data-target2")),n=wp.media({title:e.attr("data-title")??"Insert File",button:{text:e.attr("data-btn-text")??"Add New File"},multiple:!1,library:{type:e.attr("data-library-type")??""}}).on("select",(function(){if(o.length>0){let t=n.state().get("selection").first().toJSON();o.val(t.url),i.length>0&&i.val(t.id)}})).open()})),t(".wopb-video-meta-fields input[name=wopb_video_type]").on("change",(function(){let e=t(this);t(".wopb-video-meta-fields .wopb-video-type-tab").removeClass("wopb-active"),e.parents(".wopb-video-type-tab:first").addClass("wopb-active");let o=e.parents(".wopb-video-meta-fields:first").find(".wopb-media-depend");"youtube"===e.val()?(o.addClass("wopb-d-none"),t(".wopb-video-meta-fields").removeClass("wopb-custom-upload").addClass("wopb-youtube")):(o.removeClass("wopb-d-none"),t(".wopb-video-meta-fields").removeClass("wopb-youtube").addClass("wopb-custom-upload"))})),t(".wopb-video-meta-fields input[name=wopb_video_autoplay]").on("change",(function(){const e=t(this).parents(".wopb-video-meta-fields").hasClass("wopb-custom-upload");let o=t(this).parents(".wopb-video-meta-fields:first").find(".wopb_video_hover_field");1==t(this).prop("checked")?o.addClass("wopb-d-none"):e&&o.removeClass("wopb-d-none")}));const i=t(".wopb-sc-control-col");let n=t(".wopb-sc-input-row");i.on("click",".wopb-sc-add-item",(function(e){let o=i.find(".wopb-sc-add-item").index(t(this));t(this).parent().after(t(this).parent().clone()),n.each((function(e){let i=t(this).find(".wopb-sc-input-col").eq(o),n=i.clone();i.after(n),i.is("td")})),i.find(".wopb-sc-del-item").removeClass("wopb-d-none")})),i.on("click",".wopb-sc-del-item",(function(e){let o=i.find(".wopb-sc-del-item"),s=o.index(t(this));n.each((function(){t(this).find(".wopb-sc-input-col").eq(s).remove()})),t(this).parent().remove(),2===o.length&&o.addClass("wopb-d-none")})),t(document).on("click",".wopb-sc-input-row .wopb-sc-add-item",(function(e){let o=t(this).parents(".wopb-sc-input-row:first"),i=o.clone();o.after(i),n=t(".wopb-sc-input-row"),n.find(".wopb-sc-del-item").removeClass("wopb-d-none")})),t(document).on("click",".wopb-sc-input-row .wopb-sc-del-item",(function(e){let o=n.find(".wopb-sc-del-item");t(this).parents(".wopb-sc-input-row:first").remove(),2===o.length&&o.addClass("wopb-d-none"),n=t(".wopb-sc-input-row")})),t(".post-type-wopb-size-chart form#post").on("submit",(function(e){const o=[];return n.each((function(e){o[e]=[],t(this).find(".wopb-sc-solumn").each((function(){o[e].push(t(this).val())}))})),t("#wopb-size-chart-table #wopb-sc-column-array").val(JSON.stringify(o)),!0})),t("#wopb-size-chart-table #wopb-sc-heading-position").on("change",(function(){let e=t(this);t(".wopb-sc-head-col").find(".wopb-sc-solumn").val(e.attr("data-content-default")),e.prop("checked")?(t(".wopb-sc-head-col").find(".wopb-sc-solumn").val(e.attr("data-content-default")),t("td.wopb-sc-input-col").removeClass("wopb-sc-head-col"),n.first().find("td.wopb-sc-input-col").addClass("wopb-sc-head-col")):n.each((function(){let e=t(this).find("td.wopb-sc-input-col");e.removeClass("wopb-sc-head-col"),e.first().addClass("wopb-sc-head-col")})),t(".wopb-sc-head-col").find(".wopb-sc-solumn").val(e.attr("data-head-default"))})),t("#wopb-size-chart-assign #wopb-sc-all-product").on("change",(function(){t(this).prop("checked")?t(".wopb-sc-category, .wopb-sc-include-products").addClass("wopb-d-none"):t(".wopb-sc-category, .wopb-sc-include-products").removeClass("wopb-d-none")}))}(jQuery);